find_path(GLEW_INCLUDE_DIR NAMES GL/glew.h PATHS {CONAN_INCLUDE_DIRS_GLEW} NO_CMAKE_FIND_ROOT_PATH)
find_library(GLEW_LIBRARY NAMES ${CONAN_LIBS_GLEW} PATHS ${CONAN_LIB_DIRS_GLEW} NO_CMAKE_FIND_ROOT_PATH)

message(STATUS "** GLEW ALREADY FOUND BY CONAN!")
message(STATUS "** FOUND GLEW: ${GLEW_LIBRARY}")
message(STATUS "** FOUND GLEW INCLUDE: ${GLEW_INCLUDE_DIR}")

if(MSVC)
  set(GLEW_LIBRARY ${GLEW_LIBRARY} opengl32)
endif()
if(APPLE)
  set(GLEW_LIBRARY ${GLEW_LIBRARY})
endif()
if(UNIX AND NOT APPLE)
  set(GLEW_LIBRARY ${GLEW_LIBRARY} GL)
endif()

set(GLEW_FOUND TRUE)
set(GLEW_INCLUDE_DIRS ${GLEW_INCLUDE_DIR})
set(GLEW_LIBRARIES ${GLEW_LIBRARY})
set(GLEW_DEFINITIONS "@CONAN_GLEW_DEFINITIONS@")

mark_as_advanced(GLEW_LIBRARY GLEW_INCLUDE_DIR)

if(NOT ${CMAKE_VERSION} VERSION_LESS "3.0")
    if(NOT TARGET GLEW::GLEW)
        add_library(GLEW::GLEW INTERFACE IMPORTED)
        set_target_properties(GLEW::GLEW PROPERTIES
            INTERFACE_INCLUDE_DIRECTORIES "${GLEW_INCLUDE_DIRS}"
            INTERFACE_LINK_LIBRARIES "${GLEW_LIBRARIES}"
            INTERFACE_COMPILE_DEFINITIONS "${GLEW_DEFINITIONS}"
            INTERFACE_COMPILE_OPTIONS ""
        )
    endif()
endif()
